{"version":3,"sources":["app/initialize.js","app/snowflake-renderer.js"],"names":["require","Buffer","document","addEventListener","query","queryString","parse","window","location","search","params","name","input","getElementById","console","log","value","buildSnowflake","$","fn","rotate","degrees","css","defaultOptions","arms","max_font","min_font","arm_length","$target","options","_","defaults","remove","name_text","length","chars","t","char","substr","font_size","font_width","font_left","push","arm","map","join","primary_arm","append","i","new_arm","clone","attr","html","text_colour","background_colour"],"mappings":"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","file":"public/app.js","sourcesContent":["import $ from 'jquery';\nimport buildSnowflake from 'snowflake-renderer';\nimport queryString from 'query-string';\nrequire('buffer').Buffer;\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  // do your setup here\n  const query = queryString.parse(window.location.search);\n  const params = query.name ? {name: query.name} : {};\n  buildSnowflake($('#snowflake_holder'), params);\n\n  const input = document.getElementById('enter-name');\n  input.addEventListener(\"keyup\", () => {\n    console.log(input.value);\n    buildSnowflake($('#snowflake_holder'), {name: input.value});\n  });\n\n});\n","import $ from 'jquery';\nimport _ from 'lodash';\n\n$.fn.rotate = function(degrees) {\n    $(this).css({'-webkit-transform' : 'rotate('+ degrees +'deg)',\n                 '-moz-transform' : 'rotate('+ degrees +'deg)',\n                 '-ms-transform' : 'rotate('+ degrees +'deg)',\n                 'transform' : 'rotate('+ degrees +'deg)'});\n    return $(this);\n};\n\nconst defaultOptions = {\n    name: 'Your Name',\n    arms: 6,\n    max_font: 200,\n    min_font: 6,\n    arm_length: 256,\n};\n\nexport default function buildSnowflake($target, options) {\n\n    _.defaults(options, defaultOptions);\n\n    $('.arm').remove();\n\n    const name_text = options.name.length > 0 ? options.name : defaultOptions.name;\n    const chars = [];\n\n    for(let t = 0; t < name_text.length; t++) {\n        const char = name_text.substr(t, 1);\n\n        // step between the max and min font sizes\n        const font_size = options.max_font - (((options.max_font - options.min_font) / name_text.length) * t);\n\n        // space the fonts over the 'branch'\n        const font_width = options.arm_length / name_text.length;\n\n        // distance on 'branch'\n        const font_left = (options.arm_length / name_text.length) * t;\n\n        chars.push({ char, font_size });\n\n    }\n\n    const arm = chars.map((char) => {\n        return `<div class=\"char\" style=\"font-size: ${char.font_size}px\">${char.char}</div>`;\n    }).join('');\n\n    const primary_arm = `\n    <div class=\"arm rotate_pin\" id=\"arm_0\">\n        <div class=\"text_holder top\">\"${arm}</div>\n        <div class=\"text_holder bottom\">\"${arm}</div>\n    </div>\n    `;\n\n    $target.append(primary_arm);\n    $('#snowflake').append(primary_arm);\n\n    // already made arm 0, just clone it into the remaining arms\n    for(var i = 1; i < options.arms; i++) {\n        var new_arm = $('#arm_0').clone();\n        new_arm.attr('id',' arm_' + i).rotate((360/options.arms) * i);\n        $target.append(new_arm);\n        $('#snowflake').append(new_arm);\n    }\n\n    $('.poster_framed_1_snowflake').html($target.clone().attr(\"class\", \"snowflake_static_1\").attr(\"id\", \"\").css({ 'color' : '#' + options.text_colour }) );\n    $('.poster_framed_1_text').html(\"the snowflake of \" + options.name);\n    $('.mockup, .card_front').css( { 'background-color' : '#' + options.background_colour });\n    $('.snowflake_static_1 div').css( { 'color' : '#' + options.text_colour });\n    $('.poster_framed_1_text').css( { 'color' : '#' + options.text_colour });\n\n    // Copy styles and content into the static snowflake builder page\n    $('#snowflake_background').css({ 'background-color' : '#' + options.background_colour });\n    $('#snowflake_background #snowflake_maker #snowflake_holder div').css({ 'color' : '#' + options.text_colour });\n    $('#name_text').html(\"the snowflake of \" + options.name).css({ 'color' : '#' + options.text_colour });\n\n}\n"]}